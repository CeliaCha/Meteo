$(document).ready(function(){function e(e){o++,t.setItem(o+"city",e.Ville),c.length>1&&c.splice(0,1),c.push(e);var n=c[c.length-1],d=c[c.length-2];$("#card2 ul").empty();for(var m in n)$("#card2 ul").append("<li>"+m+" : "+n[m]+"</li>");$("#card1 ul").empty();for(var m in d)$("#card1 ul").append("<li>"+m+" : "+d[m]+"</li>");void 0!=a&&a.remove(),a=L.map("mapFrame2").setView([n.Latitude,n.Longitude],12),L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{maxZoom:18,id:"mapbox.streets",accessToken:"pk.eyJ1IjoiY2VsaWFjaGEiLCJhIjoiY2piYW9kb2NjMHU5eTJ3bm51NDYwNm96YyJ9.bd3WcQc8BlJc-P7hXQUeVA"}).addTo(a),L.marker([n.Latitude,n.Longitude]).addTo(a),""!=d&&void 0!=d&&(void 0!=i&&i.remove(),i=L.map("mapFrame1").setView([d.Latitude,d.Longitude],12),L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{maxZoom:18,id:"mapbox.streets",accessToken:"pk.eyJ1IjoiY2VsaWFjaGEiLCJhIjoiY2piYW9kb2NjMHU5eTJ3bm51NDYwNm96YyJ9.bd3WcQc8BlJc-P7hXQUeVA"}).addTo(i),L.marker([d.Latitude,d.Longitude]).addTo(i)),$("input").val("Rechercher une ville"),$("input").css("color","darkgrey"),void 0}var a,i,t=localStorage,o=0,c=[""];$("input").click(function(){$(this).val(""),$(this).css("color","black")}),$("#cityChoice").click(function(){!function(e,a){$.ajax({url:"https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&APPID=ee43646aad159fa17c9141272573d285",type:"GET",dataType:"json",success:function(e){var i={Ville:e.name,Longitude:e.coord.lon,Latitude:e.coord.lat,"Humidité":e.main.humidity+" %",Pression:e.main.pressure+" hpa",Temp_min:e.main.temp_min+" C°",Temp_max:e.main.temp_max+" C°"};a(i)},error:function(e){alert("Echec de la requête ou requête invalide."),console.log(e)},complete:function(){console.log("complete")}})}($("input").val(),e)})});